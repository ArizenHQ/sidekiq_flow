<script src="<%= app_prefix %>/js/graph.js"></script>

<h1>Workflow <%= @workflow.id %></h1>
<svg id='workflow-graph' width='100%' height='400'>
  <g class='viewport'></g>
</svg>

<div id='task-modal' class='modal' tabindex='-1' role='dialog'>
  <div class='modal-dialog' role='document'>
    <div class='modal-content'>
      <div class="modal-header">
        <h5 class='modal-title'></h5>
        <button type='button' class='close' data-dismiss='modal' aria-label='Close'>
          <span aria-hidden='true'>&times;</span>
        </button>
      </div>
      <div class='modal-body'>
        <div id='task-attrs'></div>
        <button id='retry-task' type='button' class='btn btn-info'>Retry task</button>
        <button id='clear-task' type='button' class='btn btn-info'>Clear task</button>
      </div>
      <div class='modal-footer'>
        <button type='button' class='btn btn-secondary' data-dismiss='modal'>Close</button>
      </div>
    </div>
  </div>
</div>

<script>
  window.workflow = <%= @workflow.to_json %>;
</script>
